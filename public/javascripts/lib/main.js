var pingApp=angular.module("ping",["ngRoute","ngAnimate","ToolBox.directives","ToolBox.services","common.menu","common.errors","ping.club","ping.joueur"]),modClub=angular.module("ping.club",[]);pingApp.config(["$routeProvider",function(a){a.when("/clubs/:num",{templateUrl:"/assets/partials/club.html",controller:"ClubCtrl"}).when("/criteresRechClub",{templateUrl:"/assets/partials/rechClub.html",controller:"ClubCtrl"}).when("/rechClubs",{templateUrl:"/assets/partials/clubs.html",controller:"ClubCtrl"})}]),modClub.controller("ClubCtrl",["$scope","$routeParams","ComposantClub",function(a,b,c){a.clubs=void 0,a.club=void 0,a.messageWait="",a.deptClub=b.dept,a.numClub=b.num,void 0!==a.numClub?(a.messageWait="Chargement du club ...",c.consulterClub(a.numClub).then(function(b){""!==b.idclub&&(a.club=b),a.messageWait=""})):void 0!==a.deptClub&&(a.messageWait="Chargement des clubs ...",c.rechercherClubs(a.deptClub).then(function(b){b.clubs.length>=1&&(a.clubs=b.clubs),a.messageWait=""})),a.lancerRecherche=function(){void 0!==a.numClub?location.hash="#/clubs/"+a.numClub:void 0!==a.deptClub&&(location.hash="#/rechClubs?dept="+a.deptClub)},a.consulter=function(a){location.hash="#/clubs/"+a},a.licencies=function(){location.hash="#/clubs/"+a.numClub+"/joueurs"},a.fermer=function(){location.hash="#/criteresRechClub"}}]),modClub.factory("ComposantClub",["$q","toolbox_http",function(a,b){return{consulterClub:function(a){var c=b.get("/clubs/"+a);return c},rechercherClubs:function(a){var c=b.get("/clubs?d="+a);return c}}}]);var modJoueur=angular.module("ping.joueur",[]);pingApp.config(["$routeProvider",function(a){a.when("/joueurs/:licence",{templateUrl:"/assets/partials/joueur.html",controller:"JoueurCtrl"}).when("/clubs/:club/joueurs",{templateUrl:"/assets/partials/joueurs.html",controller:"JoueurCtrl"}).when("/criteresRechJoueur",{templateUrl:"/assets/partials/rechJoueur.html",controller:"JoueurCtrl"}).when("/rechJoueurs",{templateUrl:"/assets/partials/joueurs.html",controller:"JoueurCtrl"})}]),modJoueur.controller("JoueurCtrl",["$scope","$routeParams","ComposantJoueur",function(a,b,c){a.joueurs=void 0,a.joueur=void 0,a.messageWait="",a.licence=b.licence,a.nom=b.nom,a.prenom=b.prenom,a.club=b.club,void 0!==a.licence?(a.messageWait="Chargement du joueur ...",c.consulterJoueur(a.licence).then(function(b){a.joueur=b,a.messageWait=""})):void 0!==a.nom?(a.messageWait="Chargement des joueurs ...",c.rechercherJoueurs(a.nom,a.prenom).then(function(b){a.joueurs=b.joueurs,a.messageWait=""})):void 0!==a.club&&(a.messageWait="Chargement des joueurs ...",c.rechercherParClub(a.club).then(function(b){a.joueurs=b.joueurs,a.messageWait=""})),a.lancerRecherche=function(){void 0!==a.licence?location.hash="#/joueurs/"+a.licence:void 0!==a.nom?location.hash="#/rechJoueurs?nom="+a.nom+"&prenom="+(void 0!==a.prenom?a.prenom:""):void 0!==a.club&&(location.hash="#/clubs/"+a.club+"/joueurs")},a.consulter=function(a){location.hash="#/joueurs/"+a},a.joueursParClub=function(a){location.hash="#/clubs/"+a+"/joueurs"},a.fermer=function(){location.hash="#/joueurs/"}}]),modJoueur.factory("ComposantJoueur",["$q","toolbox_http",function(a,b){return{consulterJoueur:function(a){var c=b.get("/joueurs/"+a);return c},rechercherJoueurs:function(a,c){var d=b.get("/joueurs?n="+a+"&p="+c);return d},rechercherParClub:function(a){var c=b.get("/clubs/"+a+"/joueurs");return c}}}]);var modErrors=angular.module("common.errors",[]);pingApp.config(["$routeProvider",function(a){a.when("/404",{templateUrl:"/assets/partials/errors.html",controller:"ErrorCtrl"}).otherwise({redirectTo:"/criteresRechJoueur"})}]),pingApp.run(["$rootScope","$location",function(a,b){a.$on("$routeChangeError",function(){b.path("/404").replace()})}]),modErrors.controller("ErrorCtrl",["$scope",function(){}]);var modJoueur=angular.module("ping.joueur",[]);pingApp.config(["$routeProvider",function(a){a.when("/joueurs/:licence",{templateUrl:"/assets/partials/joueur.html",controller:"JoueurCtrl"}).when("/clubs/:club/joueurs",{templateUrl:"/assets/partials/joueurs.html",controller:"JoueurCtrl"}).when("/criteresRechJoueur",{templateUrl:"/assets/partials/rechJoueur.html",controller:"JoueurCtrl"}).when("/rechJoueurs",{templateUrl:"/assets/partials/joueurs.html",controller:"JoueurCtrl"})}]),modJoueur.controller("JoueurCtrl",["$scope","$routeParams","ComposantJoueur",function(a,b,c){a.joueurs=void 0,a.joueur=void 0,a.messageWait="",a.licence=b.licence,a.nom=b.nom,a.prenom=b.prenom,a.club=b.club,void 0!==a.licence?(a.messageWait="Chargement du joueur ...",c.consulterJoueur(a.licence).then(function(b){a.joueur=b,a.messageWait=""})):void 0!==a.nom?(a.messageWait="Chargement des joueurs ...",c.rechercherJoueurs(a.nom,a.prenom).then(function(b){a.joueurs=b.joueurs,a.messageWait=""})):void 0!==a.club&&(a.messageWait="Chargement des joueurs ...",c.rechercherParClub(a.club).then(function(b){a.joueurs=b.joueurs,a.messageWait=""})),a.lancerRecherche=function(){void 0!==a.licence?location.hash="#/joueurs/"+a.licence:void 0!==a.nom?location.hash="#/rechJoueurs?nom="+a.nom+"&prenom="+(void 0!==a.prenom?a.prenom:""):void 0!==a.club&&(location.hash="#/clubs/"+a.club+"/joueurs")},a.consulter=function(a){location.hash="#/joueurs/"+a},a.joueursParClub=function(a){location.hash="#/clubs/"+a+"/joueurs"},a.fermer=function(){location.hash="#/joueurs/"}}]),modJoueur.factory("ComposantJoueur",["$q","toolbox_http",function(a,b){return{consulterJoueur:function(a){var c=b.get("/joueurs/"+a);return c},rechercherJoueurs:function(a,c){var d=b.get("/joueurs?n="+a+"&p="+c);return d},rechercherParClub:function(a){var c=b.get("/clubs/"+a+"/joueurs");return c}}}]);var modMenu=angular.module("common.menu",[]);modMenu.controller("MenuCtrl",["$scope","$location",function(a,b){a.navClass=function(a){var c=b.path().substring()||"menu";return a===c?"item-actif":""}}]);var toolBoxServices=angular.module("ToolBox.services",[]);toolBoxServices.factory("toolbox_http",["$http",function(a){function b(a){alert("Erreur : "+a.status+", "+a.data)}return{get:function(c){return a.get(c).then(function(a){return a.data},function(a){b(a)})},put:function(c,d){return a.put(c,d).then(function(a){return a.data},function(a){b(a)})},post:function(c,d){return a.post(c,d).then(function(a){return a.headers()},function(a){b(a)})},"delete":function(c){return a.delete(c).then(function(a){return a.data},function(a){b(a)})}}}]);var toolBoxDirectives=angular.module("ToolBox.directives",[]);toolBoxDirectives.directive("tbMenuLeft",function(){function a(a,b){function c(){var a=document.createElement("div");return a.setAttribute("class","drawermenu-shadow"),a.style.position="fixed",a.style.top=0,a.style.left=0,a.style.height=0,a.style.width=0,a.style["z-index"]=999,a.style.background="#000",a.style.opacity=0,a.style[o()]="opacity .3s ease-out",document.body.appendChild(a),a}function d(a){j(),s.initialMouseX=m(a).X,s.initialleft=h().left,s.initialMouseX<q.leftPadding+s.initialleft+h().width&&(window.addEventListener(w,s,!0),window.addEventListener(x,s,!0))}function e(){window.removeEventListener(w,s,!0),window.removeEventListener(x,s,!0)}function f(b){b.preventDefault(),s.clientX=m(b).X;var c=s.clientX+s.initialleft-s.initialMouseX;c>0?c=0:c<-1*h().width&&(c=-1*h().left),a.style[n()]="translate3d("+c+"px,0,0)"}function g(){i(),h().left>-1*Math.round(h().width/2)?s.show():s.hide(),e()}function h(){return a.getBoundingClientRect()}function i(){a.style.transition="transform .3s ease-out",a.style.WebkitTransition="-webkit-transform .3s ease-out",a.style.MozTransition="-moz-transform .3s ease-out",a.style.OTransition="-o-transform .3s ease-out",a.style.msTransition="-ms-transform .3s ease-out"}function j(){a.style.transition="none",a.style.WebkitTransition="none",a.style.MozTransition="none",a.style.OTransition="none",a.style.msTransition="none"}function k(){z.style.opacity="0.3",z.style.height="100%",z.style.width="100%"}function l(){z.style.opacity="0",z.style.height="0",z.style.width="0"}function m(a){var b,c={},d=a||window.event;return a.touches?b=a.touches:a.originalEvent&&(b=d.originalEvent.changedTouches),b?(c.X=b[0].clientX,c.Y=b[0].clientX):(c.X=d.clientX,c.Y=d.clientX),c}function n(){if(!n.transformProp){n.transformProp="none";for(var a=document.createElement("div"),b="transform WebkitTransform MozTransform OTransform msTransform".split(" "),c=0,d=b.length;d>c;c++)"undefined"!=typeof a.style[b[c]]&&(n.transformProp=b[c])}return n.transformProp}function o(){if(!o.transitionProp){o.transitionProp="none";for(var a=document.createElement("div"),b="transition WebkitTransition MozTransition OTransition msTransition".split(" "),c=0,d=b.length;d>c;c++)"undefined"!=typeof a.style[b[c]]&&(o.transitionProp=b[c])}return o.transitionProp}function p(){s.hide()}var q={leftPadding:40};for(var r in b)q[r]=b[r];var s=this,t=/hp-tablet/gi.test(navigator.appVersion),u="ontouchstart"in window&&!t,v=u?"touchstart":"mousedown",w=u?"touchmove":"mousemove",x=u?"touchend":"mouseup",y=u?"touchcancel":"mouseup",z=c();window.addEventListener(v,this,!0),z.addEventListener("click",this,!0),q.button&&document.getElementById(q.button).addEventListener("click",function(){s.show()},!0),this.handleEvent=function(a){switch(a.type){case v:d(a);break;case w:f(a);break;case y:g(a);break;case x:g(a);break;case"click":if(a.target===z)return s.hide(a)}},this.destroy=function(){z.parentNode.removeChild(z),window.removeEventListener(v,this,!0),z.removeEventListener("click",this,!0),j(),this.show(),e()},this.hide=function(){a.style[n()]="translate3d(-"+h().width+"px,0,0)",i(),l(),e()},this.show=function(){a.style[n()]="translate3d(0,0,0)",i(),k(),e()},p()}return{link:function(b,c,d){var e=document.getElementById(d.id),f=new a(e,{button:"menuBouton"});e.addEventListener("click",function(){f.hide()},!0)}}});