var pingApp=angular.module("ping",["ngRoute","ngAnimate","ToolBox.directives","ToolBox.services","common.menu","common.errors","ping.club","ping.joueur"]),modClub=angular.module("ping.club",[]);pingApp.config(["$routeProvider",function(a){a.when("/clubs/:num",{templateUrl:"/assets/partials/club.html",controller:"ClubCtrl"}).when("/criteresRechClub",{templateUrl:"/assets/partials/rechClub.html",controller:"ClubCtrl"}).when("/rechClubs",{templateUrl:"/assets/partials/clubs.html",controller:"ClubCtrl"})}]),modClub.controller("ClubCtrl",["$scope","$routeParams","ComposantClub",function(a,b,c){a.clubs=void 0,a.club=void 0,a.messageWait="",a.deptClub=b.dept,a.numClub=b.num,void 0!==a.numClub?(a.messageWait="Chargement du club ...",c.consulterClub(a.numClub).then(function(b){""!==b.idclub&&(a.club=b),a.messageWait=""})):void 0!==a.deptClub&&(a.messageWait="Chargement des clubs ...",c.rechercherClubs(a.deptClub).then(function(b){b.clubs.length>=1&&(a.clubs=b.clubs),a.messageWait=""})),a.lancerRecherche=function(){void 0!==a.numClub?location.hash="#/clubs/"+a.numClub:void 0!==a.deptClub&&(location.hash="#/rechClubs?dept="+a.deptClub)},a.consulter=function(a){location.hash="#/clubs/"+a},a.licencies=function(){location.hash="#/clubs/"+a.numClub+"/joueurs"},a.fermer=function(){location.hash="#/criteresRechClub"}}]),modClub.factory("ComposantClub",["$q","toolbox_http",function(a,b){return{consulterClub:function(a){var c=b.get("/clubs/"+a);return c},rechercherClubs:function(a){var c=b.get("/clubs?d="+a);return c}}}]);var modErrors=angular.module("common.errors",[]);pingApp.config(["$routeProvider",function(a){a.when("/404",{templateUrl:"/assets/partials/errors.html",controller:"ErrorCtrl"}).otherwise({redirectTo:"/criteresRechJoueur"})}]),pingApp.run(["$rootScope","$location",function(a,b){a.$on("$routeChangeError",function(){b.path("/404").replace()})}]),modErrors.controller("ErrorCtrl",["$scope",function(){}]);var modJoueur=angular.module("ping.joueur",[]);pingApp.config(["$routeProvider",function(a){a.when("/joueurs/:licence",{templateUrl:"/assets/partials/joueur.html",controller:"JoueurCtrl"}).when("/clubs/:club/joueurs",{templateUrl:"/assets/partials/joueurs.html",controller:"JoueurCtrl"}).when("/criteresRechJoueur",{templateUrl:"/assets/partials/rechJoueur.html",controller:"JoueurCtrl"}).when("/rechJoueurs",{templateUrl:"/assets/partials/joueurs.html",controller:"JoueurCtrl"})}]),modJoueur.controller("JoueurCtrl",["$scope","$routeParams","ComposantJoueur",function(a,b,c){a.joueurs=void 0,a.joueur=void 0,a.messageWait="",a.licence=b.licence,a.nom=b.nom,a.prenom=b.prenom,a.club=b.club,void 0!==a.licence?(a.messageWait="Chargement du joueur ...",c.consulterJoueur(a.licence).then(function(b){a.joueur=b,a.messageWait=""})):void 0!==a.nom?(a.messageWait="Chargement des joueurs ...",c.rechercherJoueurs(a.nom,a.prenom).then(function(b){a.joueurs=b.joueurs,a.messageWait=""})):void 0!==a.club&&(a.messageWait="Chargement des joueurs ...",c.rechercherParClub(a.club).then(function(b){a.joueurs=b.joueurs,a.messageWait=""})),a.lancerRecherche=function(){void 0!==a.licence?location.hash="#/joueurs/"+a.licence:void 0!==a.nom?location.hash="#/rechJoueurs?nom="+a.nom+"&prenom="+(void 0!==a.prenom?a.prenom:""):void 0!==a.club&&(location.hash="#/clubs/"+a.club+"/joueurs")},a.consulter=function(a){location.hash="#/joueurs/"+a},a.joueursParClub=function(a){location.hash="#/clubs/"+a+"/joueurs"},a.fermer=function(){location.hash="#/joueurs/"}}]),modJoueur.factory("ComposantJoueur",["$q","toolbox_http",function(a,b){return{consulterJoueur:function(a){var c=b.get("/joueurs/"+a);return c},rechercherJoueurs:function(a,c){var d=b.get("/joueurs?n="+a+"&p="+c);return d},rechercherParClub:function(a){var c=b.get("/clubs/"+a+"/joueurs");return c}}}]);var modMenu=angular.module("common.menu",[]);modMenu.controller("MenuCtrl",["$scope","$location",function(a,b){a.navClass=function(a){var c=b.path().substring()||"menu";return a===c?"item-actif":""}}]);var toolBoxServices=angular.module("ToolBox.services",[]);toolBoxServices.factory("toolbox_http",["$http",function(a){function b(a){alert("Erreur : "+a.status+", "+a.data)}return{get:function(c){return a.get(c).then(function(a){return a.data},function(a){b(a)})},put:function(c,d){return a.put(c,d).then(function(a){return a.data},function(a){b(a)})},post:function(c,d){return a.post(c,d).then(function(a){return a.headers()},function(a){b(a)})},"delete":function(c){return a.delete(c).then(function(a){return a.data},function(a){b(a)})}}}]);var toolBoxDirectives=angular.module("ToolBox.directives",[]);toolBoxDirectives.directive("tbMenuLeft",function(){return{link:function(a,b){function c(a){b.removeClass("animate"),k=i(a).X,initialleft=b.hasClass("show")?0:-j,30+initialleft+j>k&&(b.on("touchmove",d),b.on("touchend",e))}function d(a){a.stopImmediatePropagation(),a.preventDefault(),l=i(a).X,initialleft=b.hasClass("show")?0:-j;var c=l+initialleft-k;c>0?c=0:-1*j>c&&(c=-1*j),b.prop("style").webkitTransform="translateX("+c+"px)"}function e(a){var c=l+initialleft-k;c>-1*Math.round(j/2)?(b.prop("style").webkitTransform="",b.addClass("animate"),b.addClass("show"),$shadow.addClass("show"),h()):g(a)}function f(a){a.preventDefault(),b.addClass("animate"),b.toggleClass("show"),$shadow.toggleClass("show"),h()}function g(){b.prop("style").webkitTransform="",b.addClass("animate"),b.removeClass("show"),$shadow.removeClass("show"),h()}function h(){b.off("touchmove"),b.off("touchend")}function i(a){var b,c={},d=a||window.event;return a.touches?b=a.touches:a.originalEvent&&(b=d.originalEvent.changedTouches),b?(c.X=b[0].clientX,c.Y=b[0].clientX):(c.X=d.clientX,c.Y=d.clientX),c}var j=b.prop("offsetWidth"),k=0,l=0;bouton=document.getElementById("menuBouton"),bouton&&angular.element(bouton).on("click",f),b.on("touchstart",c),b.on("click",g),$shadow=angular.element("<div class='menu-shadow'></div>"),$shadow.on("click",g),b.parent().append($shadow)}}});